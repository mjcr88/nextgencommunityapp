# Test Design: Story 1.3 - Admin User Creation (Flow 0)

Date: 2025-10-07
Reviewer: Quinn (Test Architect)

## Test Strategy Summary

This story introduces the first administrative flow and requires a strong focus on **Access Control and Auditability** due to the High Risk of admin privilege misuse.

## Test Scenarios (Acceptance Criteria Traceability)

| Test Case ID | Test Type | Description | Acceptance Criteria | Priority |
| :--- | :--- | :--- | :--- | :--- |
| **TC-1.3.1** | Security/RBAC | Verify only users with the 'Admin' role can access the 'Create User' interface. | N/A (Risk Mitigation) | High |
| **TC-1.3.2** | Functional | Verify successful creation of a new user with valid data and lot assignment. | AC 1, 2 | High |
| **TC-1.3.3** | Functional | Verify input validation for required fields (e.g., email format, lot number format). | N/A (Risk Mitigation) | Medium |
| **TC-1.3.4** | Integration | Verify the system successfully sends the unique activation email. | AC 3 | High |
| **TC-1.3.5** | Functional | Verify the new user appears with a "Pending" status in the User Management list. | AC 4 | High |
| **TC-1.3.6** | Security/Audit | Verify that the creation of a new user is logged in the audit trail with the Admin's ID. | N/A (Risk Mitigation) | High |
| **TC-1.3.7** | Functional (Negative) | Attempt to create a user with an already existing email address. | System rejects creation with an appropriate error message. | Medium |

## Test Environment Requirements

- Admin Backoffice interface accessible.
- Configured email service for sending activation emails.
- Test data including an Admin user and a non-Admin user.

## Test Data Requirements

- Valid and invalid email addresses.
- Valid and invalid lot numbers.

## Test Automation Strategy

- **E2E Tests:** Use Cypress/Playwright to simulate the Admin user flow, verifying form submission, status update, and audit logging.
- **Integration Tests:** Verify the API endpoint correctly handles user creation, lot assignment, and triggers the email service.
